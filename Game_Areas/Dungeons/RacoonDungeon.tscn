[gd_scene load_steps=16 format=3 uid="uid://dxpgiggem6hw8"]

[ext_resource type="PackedScene" uid="uid://w3vxpb6e6et" path="res://Game_Areas/Shared/Environment.tscn" id="1_sfj4s"]
[ext_resource type="Script" path="res://Game_Areas/Dungeons/Tutorial.gd" id="2_20vj5"]
[ext_resource type="PackedScene" uid="uid://q5tm11u2dtwe" path="res://Assets/3dModels/Buildings/Dungeon/Scenes/Room.tscn" id="2_83reb"]
[ext_resource type="PackedScene" uid="uid://bf28pk072p1xo" path="res://Assets/3dModels/Buildings/Dungeon/Scenes/Door.tscn" id="3_8exq4"]
[ext_resource type="PackedScene" uid="uid://gg1yuw85ih4a" path="res://Assets/3dModels/Buildings/Dungeon/Scenes/Tube.tscn" id="4_aeojn"]
[ext_resource type="PackedScene" uid="uid://cjnqgmbh6kmy5" path="res://Assets/3dModels/Buildings/Dungeon/Scenes/Torch.tscn" id="4_rgwj1"]
[ext_resource type="PackedScene" uid="uid://nat143ct32bk" path="res://Player/Player.tscn" id="5_b8bpr"]
[ext_resource type="Script" path="res://Game_Areas/Dungeons/Path3D.gd" id="7_he7t8"]
[ext_resource type="PackedScene" uid="uid://bn06hyag8xwmy" path="res://Assets/3dModels/Buildings/Dungeon/Scenes/Bars.tscn" id="8_24344"]
[ext_resource type="PackedScene" uid="uid://doj222xfivwxj" path="res://Assets/3dModels/Buildings/Dungeon/Scenes/Lock.tscn" id="9_bv4fn"]
[ext_resource type="PackedScene" uid="uid://6bwmrqt4nv5h" path="res://Assets/3dModels/Buildings/Dungeon/Scenes/4_Exit_Room.tscn" id="10_57mdc"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0alrh"]
shading_mode = 0
albedo_color = Color(1, 0, 0, 1)

[sub_resource type="Curve3D" id="Curve3D_murqp"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 8.97502, 0.235905, 19.9507, 0, 0, 0, 0, 0, 0, 2.04624, 0.239514, 19.839, 0, 0, 0, 0, 0, 0, 1.93678, 0.214009, 25.8032),
"tilts": PackedFloat32Array(0, -0.0124907, 0)
}
point_count = 3

[sub_resource type="PlaneMesh" id="PlaneMesh_0i1ri"]
size = Vector2(500, 500)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_p3to3"]
data = PackedVector3Array(250, 0, 250, -250, 0, 250, 250, 0, -250, -250, 0, 250, -250, 0, -250, 250, 0, -250)

[node name="Dungeon" type="Node3D"]

[node name="Environment" parent="." instance=ExtResource("1_sfj4s")]

[node name="Tutorial" type="Node3D" parent="." node_paths=PackedStringArray("flame_part_spawner", "exit_door", "torch", "path")]
script = ExtResource("2_20vj5")
flame_part_spawner = NodePath("TubeManager")
exit_door = NodePath("DoorManager2")
torch = NodePath("Torch")
path = NodePath("CSGCylinder3D/Path3D")

[node name="2ExitsRoom" parent="Tutorial" instance=ExtResource("2_83reb")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 2, 0.1, 15)

[node name="DoorManager" parent="Tutorial" instance=ExtResource("3_8exq4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.18452, 0.411921, 4.03372)

[node name="DoorManager2" parent="Tutorial" instance=ExtResource("3_8exq4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.18452, 0.422326, 25.9596)
locked = true

[node name="Torch" parent="Tutorial" instance=ExtResource("4_rgwj1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9, 0.704139, 19.9139)

[node name="TubeManager" parent="Tutorial" instance=ExtResource("4_aeojn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.89409, 15.9806, 8.12618)
item = "res://Player/Weapons/WeaponParts/FlameWeaponPart/flame_weapon_part.tscn"

[node name="CSGCylinder3D" type="CSGPolygon3D" parent="Tutorial"]
polygon = PackedVector2Array(0, 0, 0, 0.05, 0.05, 0.05, 0.05, 0)
mode = 2
path_node = NodePath("Path3D")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
material = SubResource("StandardMaterial3D_0alrh")

[node name="Path3D" type="Path3D" parent="Tutorial/CSGCylinder3D" node_paths=PackedStringArray("path_mesh")]
curve = SubResource("Curve3D_murqp")
script = ExtResource("7_he7t8")
path_mesh = NodePath("..")

[node name="CentralRoom" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0, 37)

[node name="Bars" parent="CentralRoom" instance=ExtResource("8_24344")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11, 0, 5)

[node name="DoorManager2" parent="CentralRoom" node_paths=PackedStringArray("interact") instance=ExtResource("3_8exq4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.831929, 0.313978, 11)
locked = true
interact = NodePath("../../Tutorial/DoorManager2/Interact")

[node name="CSGCylinder3D" type="CSGPolygon3D" parent="CentralRoom"]
polygon = PackedVector2Array(0, 0, 0, 0.05, 0.05, 0.05, 0.05, 0)
mode = 2
path_node = NodePath("../Path3D")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
material = SubResource("StandardMaterial3D_0alrh")

[node name="Path3D" type="Path3D" parent="CentralRoom" node_paths=PackedStringArray("path_mesh")]
script = ExtResource("7_he7t8")
path_mesh = NodePath("../../Tutorial/CSGCylinder3D")

[node name="Lock" parent="CentralRoom" instance=ExtResource("9_bv4fn")]
transform = Transform3D(-2.18557e-07, 0, 5, 0, 5, 0, -5, 0, -2.18557e-07, 9, 1, 4.82261)

[node name="Lock2" parent="CentralRoom" instance=ExtResource("9_bv4fn")]
transform = Transform3D(-2.18557e-07, 0, 5, 0, 5, 0, -5, 0, -2.18557e-07, -8, 1, 4.82261)

[node name="4ExitRoom" parent="CentralRoom" instance=ExtResource("10_57mdc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.243276, 0, 0)

[node name="Ground" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -60, 0, 0)
mesh = SubResource("PlaneMesh_0i1ri")

[node name="StaticBody3D" type="StaticBody3D" parent="Ground"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ground/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_p3to3")

[node name="CharacterBody3D" parent="." instance=ExtResource("5_b8bpr")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.30412, 1.13043, 9.6454)
